<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/<%-style%>">
    <link href="./images/logo.png" type="image/x-icon" rel="icon">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <title> Paw Animal Shelter </title>
  <style>
    .ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
        background-color :var(--colour-white);
        color: var(--colour-ternary);
        border: 2px solid var(--colour-ternary);
    }

    .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active, a.ui-button:active, .ui-button:active, .ui-button.ui-state-active:hover {
        background-color: var(--colour-ternary);
        font-weight: normal;
        color: var(--colour-white);
        border: none;
    }    

    .ui-widget {
      font-family: 'Montserrat';
      font-size: 1em;
    }


    .ui-widget.ui-widget-content {
      border-top: none;
      border-top-left-radius: 0px;
      border-top-right-radius: 0px;
    }

    #ui-datepicker-div{
      width: 362.5px;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
      box-shadow: 0px 16px 10px 0px rgb(0 0 0 / 20%);
    }

  </style>
</head>
<body>



    <% if(not_partial){%>

      <%if(role == "caregiver"){%>
        <%- include('../partials/caregiverNavbar') %>
      <% }else if(role == "volunteer"){ %>
        <%- include('../partials/volunteerNavbar') %>
        <% }else if(role == "veterinarian"){ %>
          <%- include('../partials/veterinarianNavbar') %>
        <% }else if(role == "admin"){ %>
            <%- include('../partials/adminNavbar') %>
      <% }else{ %>
        <%- include('../partials/unregisteredNavbar') %>
      <% } %>
    <% } %>   
    <%- body %>
    <% if(not_partial && footer){%>
        <%- include('../partials/footer') %>
    <% } %>   

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script>
            function myFunction() {
              document.getElementById("my_drop_spieces").classList.toggle("show");
            
            }
            window.onclick = function(event) {
              if (!event.target.matches('.drop_spieces_btn')) {
                var dropdowns = document.getElementsByClassName("drop_spieces_content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                  var openDropdown = dropdowns[i];
                  if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                  }
                }
              }
            } 
            let lastScrollY = window.scrollY;

            const content = document.querySelector(".drop_spieces_content")
            const back = document.querySelector("#back")

            window.addEventListener("scroll", () => {

              if(lastScrollY > 111){
                document.getElementById("back").style.display = "none";
              }else{
                document.getElementById("back").style.display = "block";
              }

              var dropdowns = document.getElementsByClassName("drop_spieces_content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                  var openDropdown = dropdowns[i];
                  if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                  }
                }

              lastScrollY = window.scrollY
            })


            //pridat setinterval funkciu, ktora bude premazavat nevyplnene rezervacie po 13:45

            setInterval( function(){ 
              var hour = new Date().getHours();
              if (hour >= 14) {
                console.log("deleetiiiingg")
                const xhttp = new XMLHttpRequest();  

                xhttp.open("GET", "/deleting");    
                xhttp.send(); 

              }
              } , 1000*60);

        </script>
</body>
</html>